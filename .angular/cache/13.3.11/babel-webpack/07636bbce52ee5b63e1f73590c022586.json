{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet DashboardComponent = class DashboardComponent {\n  constructor(dashboardService) {\n    this.dashboardService = dashboardService;\n  }\n  ngOnInit() {\n    // get category list\n    this.getCategoryList();\n    // get category\n    this.getAllProducts('All categories');\n  }\n  getCategoryList() {\n    // set default value\n    this.dashboardService.categoryList = ['All categories'];\n    this.dashboardService.getAllCategory().subscribe(res => {\n      // check for array\n      if (Array.isArray(res)) {\n        this.dashboardService.categoryList = [...this.dashboardService.categoryList, ...res];\n        // this.resetFilter();\n      }\n    }, err => {\n      console.log(err);\n    });\n  }\n  getAllProducts(category) {\n    // set default value\n    let endPointObj = '';\n    // check added to send empty in All Category\n    if (category != 'All categories') endPointObj = '/category/' + category;\n    this.dashboardService.selectedCategory = category;\n    this.dashboardService.getProductList(endPointObj).subscribe(res => {\n      // check for array\n      if (Array.isArray(res)) {\n        this.dashboardService.allProducts = res;\n        this.getSliderValue(res);\n      }\n    }, err => {\n      console.log(err);\n    });\n  }\n  // change product filter\n  changeProductFilter(filterObject) {\n    // change filter value and sort in ass or desc order\n    this.dashboardService.filtersProducts[filterObject.event] = filterObject.value;\n    filterObject.value == 'Low' ? this.dashboardService.allProducts.sort((a, b) => a.price - b.price) : this.dashboardService.allProducts.sort((a, b) => b.price - a.price);\n  }\n  // find slider min max value\n  getSliderValue(data) {\n    let priceValues = data.map(data => data.price);\n    this.dashboardService.filtersProducts.min = Math.round(Math.min(...priceValues));\n    this.dashboardService.filtersProducts.max = Math.round(Math.max(...priceValues));\n    this.dashboardService.filtersProducts.startRange = this.dashboardService.filtersProducts.min;\n    this.dashboardService.filtersProducts.endRange = this.dashboardService.filtersProducts.max;\n    console.log(this.dashboardService.filtersProducts);\n  }\n  // reset filter\n  resetFilter() {\n    this.dashboardService.filtersProducts = {\n      price: '',\n      discount: '',\n      min: 0,\n      max: 0,\n      startRange: 0,\n      endRange: 0\n    };\n  }\n};\nDashboardComponent = __decorate([Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})], DashboardComponent);\nexport { DashboardComponent };","map":{"version":3,"names":["__decorate","Component","DashboardComponent","constructor","dashboardService","ngOnInit","getCategoryList","getAllProducts","categoryList","getAllCategory","subscribe","res","Array","isArray","err","console","log","category","endPointObj","selectedCategory","getProductList","allProducts","getSliderValue","changeProductFilter","filterObject","filtersProducts","event","value","sort","a","b","price","data","priceValues","map","min","Math","round","max","startRange","endRange","resetFilter","discount","selector","templateUrl","styleUrls"],"sources":["C:/Users/Rohan Yadav/selfbest work/js/shopping-app/src/app/pages/components/dashboard/dashboard.component.ts"],"sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nlet DashboardComponent = class DashboardComponent {\r\n    constructor(dashboardService) {\r\n        this.dashboardService = dashboardService;\r\n    }\r\n    ngOnInit() {\r\n        // get category list\r\n        this.getCategoryList();\r\n        // get category\r\n        this.getAllProducts('All categories');\r\n    }\r\n    getCategoryList() {\r\n        // set default value\r\n        this.dashboardService.categoryList = ['All categories'];\r\n        this.dashboardService.getAllCategory().subscribe(res => {\r\n            // check for array\r\n            if (Array.isArray(res)) {\r\n                this.dashboardService.categoryList = [...this.dashboardService.categoryList, ...res];\r\n                // this.resetFilter();\r\n            }\r\n        }, err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n    getAllProducts(category) {\r\n        // set default value\r\n        let endPointObj = '';\r\n        // check added to send empty in All Category\r\n        if (category != 'All categories')\r\n            endPointObj = '/category/' + category;\r\n        this.dashboardService.selectedCategory = category;\r\n        this.dashboardService.getProductList(endPointObj).subscribe(res => {\r\n            // check for array\r\n            if (Array.isArray(res)) {\r\n                this.dashboardService.allProducts = res;\r\n                this.getSliderValue(res);\r\n            }\r\n        }, err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n    // change product filter\r\n    changeProductFilter(filterObject) {\r\n        // change filter value and sort in ass or desc order\r\n        this.dashboardService.filtersProducts[filterObject.event] = filterObject.value;\r\n        filterObject.value == 'Low' ? this.dashboardService.allProducts.sort((a, b) => a.price - b.price) : this.dashboardService.allProducts.sort((a, b) => b.price - a.price);\r\n    }\r\n    // find slider min max value\r\n    getSliderValue(data) {\r\n        let priceValues = data.map(data => data.price);\r\n        this.dashboardService.filtersProducts.min = Math.round(Math.min(...priceValues));\r\n        this.dashboardService.filtersProducts.max = Math.round(Math.max(...priceValues));\r\n        this.dashboardService.filtersProducts.startRange = this.dashboardService.filtersProducts.min;\r\n        this.dashboardService.filtersProducts.endRange = this.dashboardService.filtersProducts.max;\r\n        console.log(this.dashboardService.filtersProducts);\r\n    }\r\n    // reset filter\r\n    resetFilter() {\r\n        this.dashboardService.filtersProducts = {\r\n            price: '',\r\n            discount: '',\r\n            min: 0,\r\n            max: 0,\r\n            startRange: 0,\r\n            endRange: 0\r\n        };\r\n    }\r\n};\r\nDashboardComponent = __decorate([\r\n    Component({\r\n        selector: 'app-dashboard',\r\n        templateUrl: './dashboard.component.html',\r\n        styleUrls: ['./dashboard.component.scss']\r\n    })\r\n], DashboardComponent);\r\nexport { DashboardComponent };\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}